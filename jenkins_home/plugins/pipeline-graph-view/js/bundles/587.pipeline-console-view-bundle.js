"use strict";(self.webpackChunkpipeline_graph_view_plugin=self.webpackChunkpipeline_graph_view_plugin||[]).push([[587],{497:(e,n,t)=>{function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],A=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;A=!1}else for(;!(A=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);A=!0);}catch(e){c=!0,o=e}finally{try{if(!A&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return o(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function a(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.flatMap((function(e){return"string"==typeof e?e:Object.entries(e).filter((function(e){var n=r(e,2);return n[0],n[1]})).map((function(e){return r(e,1)[0]}))})).join(" ")}t.d(n,{x:()=>a})},422:(e,n,t)=>{t.d(n,{RI:()=>b,_X:()=>w,e0:()=>x,hN:()=>k});var r=t(540),o=t(132),a=1e3,i=60*a,l=60*i,A=24*l,c=30*A,s=365*A,d="Util.year",m="Util.month",p="Util.hour",g="Util.day",u="Util.minute",v="Util.second",C="Util.millisecond",f="startedAgo";function h(e,n,t,r){return e<10?"".concat(n," ").concat(r):n}function y(e,n){var t=Math.floor(e/s);e%=s;var r=Math.floor(e/c);e%=c;var o=Math.floor(e/A);e%=A;var f=Math.floor(e/l);e%=l;var y=Math.floor(e/i);e%=i;var b=Math.floor(e/a),k=e%a;return t>0?h(t,n.get(d)({0:t}),0,n.get(m)({0:r})):r>0?h(r,n.get(m)({0:r}),0,n.get(g)({0:o})):o>0?h(o,n.get(g)({0:o}),0,n.get(p)({0:f})):f>0?h(f,n.get(p)({0:f}),0,n.get(u)({0:y})):y>0?h(y,n.get(u)({0:y}),0,n.get(v)({0:b})):b>=10?n.get(v)({0:b}):b>=1?n.get(v)({0:b+Math.floor(k/100)/10}):k>=100?n.get(v)({0:Math.floor(k/10)/100}):n.get(C)({0:k})}function b(e){var n=e.ms,t=(0,r.useContext)(o.O);return r.createElement(r.Fragment,null,y(n,t))}function k(e){var n=e.since,t=(0,r.useContext)(o.O);return r.createElement(r.Fragment,null,"Queued ".concat(y(n,t)))}function w(e){var n=e.since,t=(0,r.useContext)(o.O);return 0==n?r.createElement(r.Fragment,null):r.createElement(r.Fragment,null,t.get(f)({0:y(Math.abs(n-Date.now()),t)}))}function x(e){return 0===e?"":new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(new Date(e))}},587:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var r=t(540),o=t(403),a=t(72),i=t.n(a),l=t(825),A=t.n(l),c=t(659),s=t.n(c),d=t(56),m=t.n(d),p=t(159),g=t.n(p),u=t(113),v=t.n(u),C=t(552),f={};f.styleTagTransform=v(),f.setAttributes=m(),f.insert=s().bind(null,"head"),f.domAPI=A(),f.insertStyleElement=g(),i()(C.A,f),C.A&&C.A.locals&&C.A.locals;var h=t(422),y=t(850),b=t(497);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function w(e){var n=e.stages,t=e.selected,o=e.onNodeSelect,a=(0,r.useCallback)((function(e,n){o(e,n)}),[o]);return r.createElement("div",{id:"tasks"},n.map((function(e){return r.createElement(x,{key:e.id,stage:e,selected:String(t),onSelect:a})})))}var x=r.memo((function(e){var n,t,a=e.stage,i=e.selected,l=e.onSelect,A=a.children&&a.children.length>0,c=String(a.id)===i,s=(0,r.useState)(function e(n){var t;return null===(t=n.children)||void 0===t?void 0:t.some((function(n){return String(n.id)===i||e(n)}))}(a)),d=(t=2,function(e){if(Array.isArray(e))return e}(n=s)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],A=!0,c=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;A=!1}else for(;!(A=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);A=!0);}catch(e){c=!0,o=e}finally{try{if(!A&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(n,t)||function(e,n){if(e){if("string"==typeof e)return k(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],p=d[1];return r.createElement("div",{className:"task"},r.createElement("div",{className:"pgv-tree-node-header"},r.createElement("a",{href:"?selected-node="+a.id,onClick:function(e){0!==e.button||e.metaKey||e.ctrlKey||(e.preventDefault(),history.replaceState({},"","?selected-node="+a.id),c||l(e,String(a.id)),p(!m))},className:(0,b.x)("pgv-tree-item","task-link",{"task-link--active":c,"pgv-tree-item--skeleton":a.skeleton})},r.createElement("div",null,r.createElement("span",{className:"task-icon-link"},r.createElement(y.A,{status:a.state,percentage:a.completePercent,skeleton:a.skeleton})),r.createElement("span",{className:"task-link-text"},a.name),a.state===o.Q.running&&r.createElement("span",{className:"pgv-tree-item__description"},r.createElement(h.RI,{ms:a.totalDurationMillis})))),A&&r.createElement("button",{className:(0,b.x)("pgv-toggle-icon",{"pgv-toggle-icon--active":m}),onClick:function(e){e.stopPropagation(),p(!m)},"aria-label":m?"Collapse":"Expand"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M184 112l144 144-144 144"})))),A&&m&&r.createElement("div",{className:"pgv-tree-children"},a.children.map((function(e){return r.createElement(x,{key:e.id,stage:e,selected:i,onSelect:l})}))))}))},552:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(354),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,'#tasks{margin:0;padding-right:.7rem}.pgv-tree-item{display:block !important;font-family:var(--font-family-sans) !important;padding-block:.375rem !important;padding-right:1rem;cursor:pointer !important}.pgv-tree-item>div{display:flex;align-items:center;justify-content:stretch;text-wrap:nowrap;text-overflow:ellipsis;white-space:nowrap;gap:.65rem;mask-image:linear-gradient(90deg, white calc(100% - 2.5rem), transparent calc(100% - 1rem))}.pgv-tree-item .task-icon-link>div{display:contents}.pgv-tree-item svg{flex-shrink:0}.pgv-tree-item__description{color:var(--text-color-secondary)}.pgv-tree-item--skeleton{pointer-events:none;color:var(--text-color-secondary) !important}.pgv-toggle-icon{position:absolute;top:.55rem;right:.55rem;width:1rem;height:1rem;margin-left:auto;transition:var(--standard-transition);appearance:none;background:none;padding:0;border:none;cursor:pointer;color:var(--text-color-secondary)}.pgv-toggle-icon--active{rotate:90deg}.pgv-toggle-icon svg{width:1rem;height:1rem}.pgv-toggle-icon svg *{stroke-width:42px !important}.pgv-toggle-icon:hover{color:var(--text-color)}.pgv-tree-node-header{position:relative}.pgv-tree-children{position:relative;display:flex;flex-direction:column;gap:.125rem;margin-top:.125rem;padding-left:calc(2.725rem + var(--jenkins-border-width, 2px));padding-right:.7rem}.pgv-tree-children::before{content:"";position:absolute;top:.375rem;left:calc(1.3875rem - var(--jenkins-border-width, 2px)/2);bottom:.375rem;background-color:var(--jenkins-border-color, color-mix(in srgb, var(--text-color-secondary) 25%, transparent));width:var(--jenkins-border-width, 2px);border-radius:10px}',"",{version:3,sources:["webpack://./src/main/frontend/pipeline-console-view/pipeline-console/main/data-tree-view.scss"],names:[],mappings:"AAAA,OACE,QAAA,CACA,mBAAA,CAGF,eACE,wBAAA,CACA,8CAAA,CACA,gCAAA,CACA,kBAAA,CACA,yBAAA,CAEA,mBACE,YAAA,CACA,kBAAA,CACA,uBAAA,CACA,gBAAA,CACA,sBAAA,CACA,kBAAA,CACA,UAAA,CACA,2FAAA,CAOF,mCACE,gBAAA,CAGF,mBACE,aAAA,CAGF,4BACE,iCAAA,CAGF,yBACE,mBAAA,CACA,4CAAA,CAIJ,iBACE,iBAAA,CACA,UAAA,CACA,YAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CACA,qCAAA,CACA,eAAA,CACA,eAAA,CACA,SAAA,CACA,WAAA,CACA,cAAA,CACA,iCAAA,CAEA,yBACE,YAAA,CAGF,qBACE,UAAA,CACA,WAAA,CAEA,uBACE,4BAAA,CAIJ,uBACE,uBAAA,CAIJ,sBACE,iBAAA,CAGF,mBACE,iBAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CACA,kBAAA,CAEA,8DAAA,CACA,mBAAA,CAEA,2BACE,UAAA,CACA,iBAAA,CACA,WAAA,CAEA,yDAAA,CAGA,cAAA,CAEA,8GAAA,CAKA,sCAAA,CACA,kBAAA",sourcesContent:['#tasks {\n  margin: 0;\n  padding-right: 0.7rem;\n}\n\n.pgv-tree-item {\n  display: block !important;\n  font-family: var(--font-family-sans) !important;\n  padding-block: 0.375rem !important;\n  padding-right: 1rem;\n  cursor: pointer !important;\n\n  & > div {\n    display: flex;\n    align-items: center;\n    justify-content: stretch;\n    text-wrap: nowrap;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    gap: 0.65rem;\n    mask-image: linear-gradient(\n      90deg,\n      white calc(100% - 2.5rem),\n      transparent calc(100% - 1rem)\n    );\n  }\n\n  .task-icon-link > div {\n    display: contents;\n  }\n\n  svg {\n    flex-shrink: 0;\n  }\n\n  &__description {\n    color: var(--text-color-secondary);\n  }\n\n  &--skeleton {\n    pointer-events: none;\n    color: var(--text-color-secondary) !important;\n  }\n}\n\n.pgv-toggle-icon {\n  position: absolute;\n  top: 0.55rem;\n  right: 0.55rem;\n  width: 1rem;\n  height: 1rem;\n  margin-left: auto;\n  transition: var(--standard-transition);\n  appearance: none;\n  background: none;\n  padding: 0;\n  border: none;\n  cursor: pointer;\n  color: var(--text-color-secondary);\n\n  &--active {\n    rotate: 90deg;\n  }\n\n  svg {\n    width: 1rem;\n    height: 1rem;\n\n    * {\n      stroke-width: 42px !important;\n    }\n  }\n\n  &:hover {\n    color: var(--text-color);\n  }\n}\n\n.pgv-tree-node-header {\n  position: relative;\n}\n\n.pgv-tree-children {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 0.125rem;\n  margin-top: 0.125rem;\n  // TODO - var fallback can removed after baseline is moved >= 2.496\n  padding-left: calc(1.35rem + 1.375rem + var(--jenkins-border-width, 2px));\n  padding-right: 0.7rem;\n\n  &::before {\n    content: "";\n    position: absolute;\n    top: 0.375rem;\n    // TODO - var fallback can removed after baseline is moved >= 2.496\n    left: calc(\n      0.7rem + (1.375rem / 2) - (var(--jenkins-border-width, 2px) / 2)\n    );\n    bottom: 0.375rem;\n    // TODO - var fallback can removed after baseline is moved >= 2.496\n    background-color: var(\n      --jenkins-border-color,\n      color-mix(in srgb, var(--text-color-secondary) 25%, transparent)\n    );\n    // TODO - var fallback can removed after baseline is moved >= 2.496\n    width: var(--jenkins-border-width, 2px);\n    border-radius: 10px;\n  }\n}\n'],sourceRoot:""}]);const l=i}}]);
//# sourceMappingURL=587.pipeline-console-view-bundle.js.map